"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[792],{92:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"first-contract","title":"First Smart Contract","description":"In this section, we\'ll set up a Hardhat project and create our first smart contract. We\'ll go through the entire process from project initialization to deployment on Base Sepolia.","source":"@site/docs/01-first-contract.md","sourceDirName":".","slug":"/first-contract","permalink":"/blockchain-101/docs/first-contract","draft":false,"unlisted":false,"editUrl":"https://github.com/tanguyvans/blockchain-101/docs/01-first-contract.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Prerequisites","permalink":"/blockchain-101/docs/Prerequesites"},"next":{"title":"Building a Frontend for Your Smart Contract","permalink":"/blockchain-101/docs/frontend"}}');var r=t(4848),o=t(8453);const a={sidebar_position:3},s="First Smart Contract",l={},c=[{value:"Setting Up the Project",id:"setting-up-the-project",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Creating Your First Smart Contract",id:"creating-your-first-smart-contract",level:2},{value:"Deploying the Contract",id:"deploying-the-contract",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Environment Setup",id:"environment-setup",level:2},{value:"Getting Your Private Key",id:"getting-your-private-key",level:3},{value:"Getting Base Sepolia RPC URL",id:"getting-base-sepolia-rpc-url",level:3},{value:"Adding Base Sepolia to MetaMask",id:"adding-base-sepolia-to-metamask",level:3},{value:"Setting Up Environment Variables",id:"setting-up-environment-variables",level:3},{value:"Deploying to Base Sepolia",id:"deploying-to-base-sepolia",level:2},{value:"Verifying Your Contract",id:"verifying-your-contract",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"first-smart-contract",children:"First Smart Contract"})}),"\n",(0,r.jsx)(n.p,{children:"In this section, we'll set up a Hardhat project and create our first smart contract. We'll go through the entire process from project initialization to deployment on Base Sepolia."}),"\n",(0,r.jsx)(n.h2,{id:"setting-up-the-project",children:"Setting Up the Project"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create a new directory and initialize the project:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir my-first-contract\ncd my-first-contract\nnpm init -y\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Install Hardhat and other dependencies:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev hardhat @nomicfoundation/hardhat-toolbox typescript ts-node @types/node dotenv\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Initialize Hardhat:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx hardhat init\n"})}),"\n",(0,r.jsx)(n.p,{children:'Choose "Create a TypeScript project" when prompted.'}),"\n",(0,r.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,r.jsx)(n.p,{children:"After initialization, your project will have the following structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"my-first-contract/\n\u2502\n\u251c\u2500\u2500 contracts/              # Smart contract files\n\u2502   \u2514\u2500\u2500 SimpleStorage.sol   # Your smart contracts go here\n\u2502\n\u251c\u2500\u2500 ignition/              # Deployment modules\n\u2502   \u2514\u2500\u2500 SimpleStorage.ts   # Deployment configuration\n\u2502\n\u251c\u2500\u2500 hardhat.config.ts      # Hardhat configuration file\n\u251c\u2500\u2500 tsconfig.json          # TypeScript configuration\n\u251c\u2500\u2500 package.json           # Project dependencies and scripts\n\u2514\u2500\u2500 .env                   # Environment variables (create this)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"creating-your-first-smart-contract",children:"Creating Your First Smart Contract"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a new file ",(0,r.jsx)(n.code,{children:"contracts/SimpleStorage.sol"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",metastring:'title="contracts/SimpleStorage.sol"',children:"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.28;\n\ncontract SimpleStorage {\n    uint256 private storedData;\n\n    event DataStored(uint256 newValue);\n\n    function set(uint256 x) public {\n        storedData = x;\n        emit DataStored(x);\n    }\n\n    function get() public view returns (uint256) {\n        return storedData;\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"deploying-the-contract",children:"Deploying the Contract"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a deployment module ",(0,r.jsx)(n.code,{children:"ignition/modules/SimpleStorage.ts"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="ignition/modules/SimpleStorage.ts"',children:'import { buildModule } from "@nomicfoundation/hardhat-ignition/modules";\n\nexport default buildModule("SimpleStorage", (m) => {\n  const simpleStorage = m.contract("SimpleStorage");\n\n  return { simpleStorage };\n});\n'})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Update your ",(0,r.jsx)(n.code,{children:"hardhat.config.ts"})," to include Base Sepolia network:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="hardhat.config.ts"',children:'import { HardhatUserConfig } from "hardhat/config";\nimport "@nomicfoundation/hardhat-toolbox";\nimport "@nomicfoundation/hardhat-ignition";\nimport "@nomicfoundation/hardhat-verify";\nimport * as dotenv from "dotenv";\n\ndotenv.config();\n\nconst config: HardhatUserConfig = {\n  solidity: "0.8.28",\n  networks: {\n    baseSepolia: {\n      url: process.env.BASE_SEPOLIA_URL || "",\n      accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : [],\n    },\n  },\n  etherscan: {\n    apiKey: {\n      baseSepolia: process.env.BASESCAN_API_KEY || "",\n    },\n    customChains: [\n      {\n        network: "baseSepolia",\n        chainId: 84532,\n        urls: {\n          apiURL: "https://api-sepolia.basescan.org/api",\n          browserURL: "https://sepolia.basescan.org",\n        },\n      },\n    ],\n  },\n  sourcify: {\n    enabled: true,\n  },\n};\n\nexport default config;\n'})}),"\n",(0,r.jsx)(n.h2,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,r.jsx)(n.h3,{id:"getting-your-private-key",children:"Getting Your Private Key"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open MetaMask"}),"\n",(0,r.jsx)(n.li,{children:"Click on the three dots (\u22ee) next to your account"}),"\n",(0,r.jsx)(n.li,{children:'Select "Account details"'}),"\n",(0,r.jsx)(n.li,{children:'Click "Export Private Key"'}),"\n",(0,r.jsx)(n.li,{children:"Enter your MetaMask password"}),"\n",(0,r.jsx)(n.li,{children:'Copy the private key (it starts with "0x")'}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,r.jsx)(n.strong,{children:"SECURITY WARNING"}),": Never share your private key or commit it to Git!"]}),"\n",(0,r.jsx)(n.h3,{id:"getting-base-sepolia-rpc-url",children:"Getting Base Sepolia RPC URL"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://www.alchemy.com/",children:"Alchemy"})]}),"\n",(0,r.jsx)(n.li,{children:"Sign up or log in"}),"\n",(0,r.jsx)(n.li,{children:'Click "Create New App"'}),"\n",(0,r.jsxs)(n.li,{children:["Fill in the details:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Name: "My First Contract"'}),"\n",(0,r.jsx)(n.li,{children:'Chain: "Base"'}),"\n",(0,r.jsx)(n.li,{children:'Network: "Base Sepolia"'}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:'Click "Create App"'}),"\n",(0,r.jsx)(n.li,{children:'Once created, click "View Key"'}),"\n",(0,r.jsx)(n.li,{children:'Copy the "HTTPS" URL'}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"adding-base-sepolia-to-metamask",children:"Adding Base Sepolia to MetaMask"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open MetaMask"}),"\n",(0,r.jsx)(n.li,{children:'Click "Add Network"'}),"\n",(0,r.jsx)(n.li,{children:'Click "Add a network manually"'}),"\n",(0,r.jsxs)(n.li,{children:["Fill in these details:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Network Name: Base Sepolia"}),"\n",(0,r.jsxs)(n.li,{children:["RPC URL: ",(0,r.jsx)(n.a,{href:"https://sepolia.base.org",children:"https://sepolia.base.org"})]}),"\n",(0,r.jsx)(n.li,{children:"Chain ID: 84532"}),"\n",(0,r.jsx)(n.li,{children:"Currency Symbol: ETH"}),"\n",(0,r.jsxs)(n.li,{children:["Block Explorer URL: ",(0,r.jsx)(n.a,{href:"https://sepolia.basescan.org",children:"https://sepolia.basescan.org"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-environment-variables",children:"Setting Up Environment Variables"}),"\n",(0,r.jsxs)(n.p,{children:["Create a ",(0,r.jsx)(n.code,{children:".env"})," file in your project root:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"PRIVATE_KEY=0x...your_private_key_here...\nBASE_SEPOLIA_URL=...\nAPI_KEY=...\n"})}),"\n",(0,r.jsx)(n.h2,{id:"deploying-to-base-sepolia",children:"Deploying to Base Sepolia"}),"\n",(0,r.jsx)(n.p,{children:"To deploy your contract:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx hardhat ignition deploy ignition/modules/SimpleStorage.ts --network baseSepolia\n"})}),"\n",(0,r.jsxs)(n.p,{children:["After deployment, you'll see the contract address in the console. You can view your contract on ",(0,r.jsx)(n.a,{href:"https://sepolia.basescan.org",children:"Base Sepolia Explorer"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"verifying-your-contract",children:"Verifying Your Contract"}),"\n",(0,r.jsx)(n.p,{children:"After deploying your contract, it's important to verify it on Base Sepolia Explorer. This makes your contract's source code publicly available and allows others to interact with it. Use the following command to verify your contract, replacing the address with your deployed contract address:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'npx hardhat verify --network baseSepolia ["contractAddress"]\n'})}),"\n",(0,r.jsx)(n.p,{children:"If your contract has constructor arguments, include them in the verification command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'npx hardhat verify --network baseSepolia ["contractAddress"] "arg1" "arg2"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Once verified, you can:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"View the contract source code"}),"\n",(0,r.jsx)(n.li,{children:"Read contract state"}),"\n",(0,r.jsx)(n.li,{children:"Interact with contract functions"}),"\n",(0,r.jsx)(n.li,{children:"View contract events"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var i=t(6540);const r={},o=i.createContext(r);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);